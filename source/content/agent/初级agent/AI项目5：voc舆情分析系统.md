
**一、项目背景**

快速通过舆情定位产品问题，辅助产品设计体验。此系统旨在通过数据收集、标签体系重构、自动化流程以及前端展示等环节，实现对用户反馈的全面分析和智能化管理。

**二、项目目标**

1.	**高效数据收集**：通过自主爬取和第三方合作，收集广泛的用户反馈数据。

2.	**飞书系统对接**：开发飞书应用，实现数据同步和系统集成。

3.	**标签体系重构**：优化现有标签体系，使其更加抽象和精细，以便更好地分类和管理数据。

4.	**标签选择Agent**：创建智能标签选择代理，权衡成本和速度，优化标签选择策略。

5.	**自动化标签打标**：利用AI语义理解和自动化技术，实现自动化的标签打标流程。

6.	**前端页面展示**：设计并实现前端页面，动态渲染标签，展示分析结果。

7.	**标签分析Agent**：开发标签分析代理和通用提示词代理，优化业务端标签提示词。

**三、项目实施步骤**

- **1. 数据收集**
    
    数据是舆情分析系统的基础。我这里采用了以下两种方式进行数据收集：
    
    **自主爬取**：通过自研爬虫技术，实时抓取社交媒体、论坛和评论平台上的用户反馈数据。此方式灵活度高，但需注意法律和伦理问题，特别针对于淘宝天猫小红书入侵式爬虫风险和成本都太大。
    
    **第三方合作**：与专业的数据提供商合作，获取全面、准确的用户反馈数据。成本更低，且数据质量和覆盖范围得到了保证。第三方主要采取机器人流程自动化（RPA）。
    
- **2. 飞书系统对接**
    
    为实现数据同步，创建飞书应用，并通过飞书API接口，将收集到的数据与飞书系统进行对接。此步骤包括：
    
    - **飞书应用创建**：在飞书开发平台上注册并创建应用，获取必要的API密钥和权限。
    - **数据同步实现**：编写数据同步程序，定时将收集到的用户反馈数据上传至飞书系统，确保数据的实时更新。
- **3. 标签体系重构**
    
    现有的标签体系过于笼统，无法满足精细化管理的需求。因此，对标签体系进行了重构：
    
    - **需求分析**：与业务部门合作，了解实际需求，制定更加抽象和细化的标签体系。
    - **标签设计**：根据分析结果，设计新的标签体系，确保其能够全面覆盖不同类型的用户反馈。
- **4. 创建标签选择Agent**
    
    为了提高标签选择的效率和准确性，开发标签选择智能体（Agent）：
    
    - **策略制定**：在保证成本和速度的前提下，制定合适的标签选择策略。
    - **Agent开发**：使用大语言模型+策略，开发智能标签选择Agent，实现自动化标签选择。
- **5. 自动化流程打标签**
    
    通过AI语义理解和自动化技术，实现数据的自动化标签打标流程：
    
    - **语义理解**：利用自然语言处理（NLP）技术，对用户反馈数据进行语义分析，提取关键信息。
    - **翻译**：自动使用大语言模型翻译海外的评论信息。
    - **自动化打标签**：设计并实现自动化打标签算法，根据语义分析结果自动为数据打上合适的标签。
    - **API对接**：通过飞书API，将打标签后的数据同步回飞书系统，确保数据的一致性。
- **6. 前端页面渲染**
    
    为了使标签和分析结果更加直观，开发前端展示页面：
    
    - **页面设计**：设计简洁美观的用户界面，确保用户能够方便地查看和操作。
    - **动态渲染**：使用前端技术实现标签的动态渲染，展示实时的舆情分析结果。
- **7. 创建标签分析Agent**
    
    开发了标签分析agent和通用提示词代理，提升标签的准确性和通用性：
    
    - **标签分析Agent**：分析现有标签的使用情况，提供优化建议。
    - **通用提示词Agent**：根据业务需求，提供优化标签的提示词，帮助业务端更好地使用标签体系。

**四、项目成果**

通过上述步骤，成功建设了一套高效的VOC舆情分析系统。此系统具备以下优势：

•	**全面的数据收集能力**：通过自主爬取和第三方合作，系统能够收集广泛的用户反馈数据。

•	**高效的数据同步机制**：通过飞书API实现数据同步，保证数据的实时更新。

•	**精细化的标签体系**：重构后的标签体系更加抽象和细化，能够更好地分类和管理数据。

•	**智能化的标签选择和打标**：通过智能代理和自动化流程，实现高效准确的标签打标。

•	**直观的前端展示**：通过前端页面动态渲染，用户能够方便地查看和操作分析结果。

**五、大概遇到的问题及其解决方案**

1. 无强落地场景
    
    解决方案：业务端介入，设置软件验收标准。
    
2. 大模型语言接口频率低速度慢。
    
    解决方法：切换模型｜策略解决，重试退避策略。｜前期用UI Agent方便调试，后期集成到后端代码中。
    
3. 接口成本高
    
    解决方法：切换模型｜提示词工程｜ 做缓存GPTCache
    
4. 上下文有限
    
    解决方法：切换模型｜RAG文本检索增强（RAG文本检索增加也有缺点，就是无法附带给AI检索外的信息）｜文本切块外挂（上下文关联信息可能有损失）。
    
5. 智能体编排不可控，过多的串行操作和分支操作导致智能体不可控
    
    解决方法：用并行策略代替串行操作和分支选择。比如，失败重试，通过动态规划生成下一次的提示词。失败多次后人工兜底。