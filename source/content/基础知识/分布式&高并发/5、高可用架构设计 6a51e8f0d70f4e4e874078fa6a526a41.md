# 5、高可用架构设计

Owner: yancy yu
Tags: mysql

[mysql复制](mysql复制.md)

[mysql日志](基础知识/mysql/mysql日志.md)

<aside>
🚀 高可用H.A指的是通过尽量缩短因日常维护操作（计划）和突发的系统崩溃(非计划)所导致的停机时间，以及提高系统和应用的可用性。

</aside>

## 影响高可用的因素:

1. 严重的主从延迟
2. 主从复制中断
3. 锁引起大量的阻塞

## 如何实现高可用

### 1. 避免导致系统不可用的因素，减少系统的不可用的时间

- 比如服务器磁盘空间耗尽
    - 建立完善的监控以及报警系统
    - 对备份数据进行恢复测试
    - 正确配置数据库环境
    - 对不需要的数据进行归档和清理

### 2. 增加系统冗余，保证发生系统不可用时可以尽快恢复

- 避免存在单点故障
    - 使用SUN共享存储或DRDB磁盘复制解决单点故障
    - 利用多写集群或NDB集群解决Mysql的单点故障
    - 利用mysql的主从复制来解决Mysql单点故障
- 主从切换以故障转移
- mmm监控mysql主从复制健康情况
    
    ![Untitled](Untitled%201.png)
    
    ![Untitled](Untitled%202.png)