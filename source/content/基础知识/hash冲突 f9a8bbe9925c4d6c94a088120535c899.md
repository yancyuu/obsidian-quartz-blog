# hash冲突

Owner: yancy yu

## 什么是hash冲突

假设我们有一个非常简单的哈希函数，它只是将输入数字除以10，并取余数作为哈希值。也就是：

```python
def simple_hash(x):
    return x % 10

```

现在，我们有两个不同的数字：42和52。

- `simple_hash(42)` 返回 2
- `simple_hash(52)` 也返回 2

虽然42和52是两个不同的数字，但它们通过这个简单的哈希函数计算后得到了相同的哈希值2。这就是一个hash冲突的例子。

### 为什么这是个问题？

1. **在哈希表中**：如果你用这个哈希值作为键来存储数据，那么42和52会映射到哈希表的同一个位置，这会导致数据被覆盖或需要额外的处理来解决冲突。
2. **在密码学中**：如果两个不同的密码产生了相同的哈希值，那么攻击者就可能利用这一点来破解密码。

### 如何解决？

1. **链地址法**：在哈希表的每个位置使用一个链表来存储所有映射到该位置的元素。
2. **开放寻址法**：如果一个位置已经被占用，就寻找下一个可用的位置。
3. **使用更复杂的哈希函数**：设计一个更少产生冲突的哈希函数。

希望这个例子能帮助你更好地理解hash冲突和如何解决它。有其他问题或需要更多的解释，请随时问我。

## **解决方法一：链地址法**

链地址法（也称为分离链法）是解决哈希冲突的一种常用方法。在这种方法中，哈希表的每个槽（或称为“桶”）不再存储单一的元素，而是存储一个链表。当多个元素哈希到同一个槽时，它们会被添加到该槽对应的链表中。

### 工作原理：

1. **插入操作**：当你要插入一个新元素时，首先使用哈希函数计算其哈希值，然后找到对应的槽。如果该槽已经有一个链表，就把新元素添加到链表的末尾；如果没有，就创建一个新的链表。
2. **查找操作**：要查找一个元素，同样首先计算其哈希值，找到对应的槽，然后在该槽的链表中进行线性搜索。
3. **删除操作**：删除也是一样，找到对应的槽和链表，然后从链表中删除该元素。

### 举例：

假设我们有一个简单的哈希函数 `h(x) = x % 5`，和一个哈希表有5个槽。

- 插入元素 10, 15, 20, 25：
    - 10 % 5 = 0，添加到第0个槽的链表中。
    - 15 % 5 = 0，也添加到第0个槽的链表中。
    - 20 % 5 = 0，同样添加到第0个槽的链表中。
    - 25 % 5 = 0，继续添加到第0个槽的链表中。

现在，第0个槽的链表就包含了 [10, 15, 20, 25]。

- 插入元素 6：
    - 6 % 5 = 1，添加到第1个槽的链表中。

现在，第1个槽的链表就包含了 [6]。

通过这种方式，即使多个元素哈希到了同一个槽，我们也能通过链表将它们分开，从而解决了哈希冲突的问题。

### 优缺点：

- **优点**：实现简单，哈希表的大小不需要动态变化。
- **缺点**：如果链表太长，会影响查找效率。

链地址法在处理哈希冲突时非常有效，特别是当你不能预测数据分布的情况下。希望这个解释能让你更清楚地了解链地址法。有其他问题或需要更多的解释，请随时问我。